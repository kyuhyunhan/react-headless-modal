{"version":3,"file":"index.modern.js","sources":["../src/components/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport { createPortal } from 'react-dom'\n// import styles from './styles.module.css'\n\ntype Props = {\n  defaultIsVisible?: boolean\n  onIsVisible: boolean\n  children: any\n}\n\nexport const HeadlessModal = ({\n  defaultIsVisible,\n  onIsVisible,\n  children\n}: Props) => {\n  const existedModalElem = document.querySelector('#modal')\n  if (!existedModalElem) {\n    const modalElem = document.createElement('div')\n    const bodyElem = document.querySelector('body')\n    modalElem.id = 'modal'\n    bodyElem && bodyElem.append(modalElem)\n  }\n\n  const [isShown, setIsShown] = React.useState(defaultIsVisible || false)\n\n  const onClose = () => {\n    setIsShown(false)\n  }\n\n  React.useEffect(() => {\n    setIsShown(onIsVisible)\n  }, [onIsVisible])\n\n  const modalDOM = document.getElementById('modal') as HTMLElement\n  return isShown ? createPortal(children({ onClose }), modalDOM) : null\n}\n"],"names":["HeadlessModal","defaultIsVisible","onIsVisible","children","existedModalElem","document","querySelector","modalElem","createElement","bodyElem","id","append","isShown","setIsShown","React","onClose","modalDOM","getElementById","createPortal"],"mappings":";;;AAUO,MAAMA,aAAa,GAAG,CAAC;AAC5BC,EAAAA,gBAD4B;AAE5BC,EAAAA,WAF4B;AAG5BC,EAAAA;AAH4B,CAAD;AAK3B,QAAMC,gBAAgB,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAzB;;AACA,MAAI,CAACF,gBAAL,EAAuB;AACrB,UAAMG,SAAS,GAAGF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAlB;AACA,UAAMC,QAAQ,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAjB;AACAC,IAAAA,SAAS,CAACG,EAAV,GAAe,OAAf;AACAD,IAAAA,QAAQ,IAAIA,QAAQ,CAACE,MAAT,CAAgBJ,SAAhB,CAAZ;AACD;;AAED,QAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBC,QAAA,CAAeb,gBAAgB,IAAI,KAAnC,CAA9B;;AAEA,QAAMc,OAAO,GAAG;AACdF,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAFD;;AAIAC,EAAAA,SAAA,CAAgB;AACdD,IAAAA,UAAU,CAACX,WAAD,CAAV;AACD,GAFD,EAEG,CAACA,WAAD,CAFH;AAIA,QAAMc,QAAQ,GAAGX,QAAQ,CAACY,cAAT,CAAwB,OAAxB,CAAjB;AACA,SAAOL,OAAO,GAAGM,YAAY,CAACf,QAAQ,CAAC;AAAEY,IAAAA;AAAF,GAAD,CAAT,EAAwBC,QAAxB,CAAf,GAAmD,IAAjE;AACD,CAzBM;;;;"}