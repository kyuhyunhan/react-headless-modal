{"version":3,"file":"index.modern.js","sources":["../src/utils/createModalElement.ts","../src/components/index.tsx","../src/index.tsx"],"sourcesContent":["export const createModalElement = () => {\n  const existedModalElem = document.querySelector('#modal')\n  if (!existedModalElem) {\n    const modalElem = document.createElement('div')\n    const bodyElem = document.querySelector('body')\n    modalElem.id = 'modal'\n    bodyElem && bodyElem.append(modalElem)\n  }\n}\n","import * as React from 'react'\nimport { createPortal } from 'react-dom'\nimport { createModalElement } from '../utils/createModalElement'\n\ncreateModalElement()\n\nexport const HeadlessModal = ({\n  isOpen,\n  onModalClose,\n  backdropAlpha = 7,\n  children\n}: HeadlessModalProps) => {\n  const [isShown, setIsShown] = React.useState(isOpen || false)\n\n  const onClose = () => {\n    onModalClose()\n    setIsShown(false)\n  }\n\n  React.useEffect(() => {\n    setIsShown(isOpen)\n  }, [isOpen])\n\n  const modalDOM = document.getElementById('modal') as HTMLElement\n  const Modal = (\n    <React.Fragment>\n      <div\n        style={{\n          position: 'fixed',\n          width: '100%',\n          height: '100%',\n          top: 0,\n          left: 0,\n          background: `rgba(0, 0, 0, ${backdropAlpha * 0.1})`\n        }}\n        onClick={onClose}\n      />\n      <div style={{ position: 'relative', zIndex: 1 }}>{children()}</div>\n    </React.Fragment>\n  )\n  return isShown ? createPortal(Modal, modalDOM) : null\n}\n","import { HeadlessModal } from './components'\nimport { useState } from 'react'\n\nexport const useHeadlessModal = () => {\n  const [isModalOpen, setIsModalOpen] = useState(false)\n  const openModal = () => {\n    return setIsModalOpen(true)\n  }\n  const closeModal = () => {\n    return setIsModalOpen(false)\n  }\n\n  return {\n    isModalOpen,\n    openModal,\n    closeModal\n  }\n}\n\nexport default HeadlessModal\n"],"names":["createModalElement","existedModalElem","document","querySelector","modalElem","createElement","bodyElem","id","append","HeadlessModal","isOpen","onModalClose","backdropAlpha","children","isShown","setIsShown","React","onClose","modalDOM","getElementById","Modal","style","position","width","height","top","left","background","onClick","zIndex","createPortal","useHeadlessModal","isModalOpen","setIsModalOpen","useState","openModal","closeModal"],"mappings":";;;AAAO,MAAMA,kBAAkB,GAAG;AAChC,QAAMC,gBAAgB,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAzB;;AACA,MAAI,CAACF,gBAAL,EAAuB;AACrB,UAAMG,SAAS,GAAGF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAlB;AACA,UAAMC,QAAQ,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAjB;AACAC,IAAAA,SAAS,CAACG,EAAV,GAAe,OAAf;AACAD,IAAAA,QAAQ,IAAIA,QAAQ,CAACE,MAAT,CAAgBJ,SAAhB,CAAZ;AACD;AACF,CARM;;ACIPJ,kBAAkB;AAElB,AAAO,MAAMS,aAAa,GAAG,CAAC;AAC5BC,EAAAA,MAD4B;AAE5BC,EAAAA,YAF4B;AAG5BC,EAAAA,aAAa,EAAbA,cAAa,GAAG,CAHY;AAI5BC,EAAAA;AAJ4B,CAAD;AAM3B,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBC,QAAA,CAAeN,MAAM,IAAI,KAAzB,CAA9B;;AAEA,QAAMO,OAAO,GAAG;AACdN,IAAAA,YAAY;AACZI,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAHD;;AAKAC,EAAAA,SAAA,CAAgB;AACdD,IAAAA,UAAU,CAACL,MAAD,CAAV;AACD,GAFD,EAEG,CAACA,MAAD,CAFH;AAIA,QAAMQ,QAAQ,GAAGhB,QAAQ,CAACiB,cAAT,CAAwB,OAAxB,CAAjB;AACA,QAAMC,KAAK,GACTJ,aAAA,CAACA,QAAD,MAAA,EACEA,aAAA,MAAA;AACEK,IAAAA,KAAK,EAAE;AACLC,MAAAA,QAAQ,EAAE,OADL;AAELC,MAAAA,KAAK,EAAE,MAFF;AAGLC,MAAAA,MAAM,EAAE,MAHH;AAILC,MAAAA,GAAG,EAAE,CAJA;AAKLC,MAAAA,IAAI,EAAE,CALD;AAMLC,MAAAA,UAAU,mBAAmBf,cAAa,GAAG;AANxC;AAQPgB,IAAAA,OAAO,EAAEX;GATX,CADF,EAYED,aAAA,MAAA;AAAKK,IAAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE,UAAZ;AAAwBO,MAAAA,MAAM,EAAE;AAAhC;GAAZ,EAAkDhB,QAAQ,EAA1D,CAZF,CADF;AAgBA,SAAOC,OAAO,GAAGgB,YAAY,CAACV,KAAD,EAAQF,QAAR,CAAf,GAAmC,IAAjD;AACD,CAnCM;;MCHMa,gBAAgB,GAAG;AAC9B,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCC,QAAQ,CAAC,KAAD,CAA9C;;AACA,QAAMC,SAAS,GAAG;AAChB,WAAOF,cAAc,CAAC,IAAD,CAArB;AACD,GAFD;;AAGA,QAAMG,UAAU,GAAG;AACjB,WAAOH,cAAc,CAAC,KAAD,CAArB;AACD,GAFD;;AAIA,SAAO;AACLD,IAAAA,WADK;AAELG,IAAAA,SAFK;AAGLC,IAAAA;AAHK,GAAP;AAKD,CAdM;;;;;"}