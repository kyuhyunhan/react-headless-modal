{"version":3,"file":"index.js","sources":["../src/components/index.tsx","../src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport { createPortal } from 'react-dom'\n// import styles from './styles.module.css'\n\ntype Props = {\n  defaultIsVisible?: boolean\n  onIsVisible: boolean\n  children: any\n}\n\nexport const HeadlessModal = ({\n  defaultIsVisible,\n  onIsVisible,\n  children\n}: Props) => {\n  const existedModalElem = document.querySelector('#modal')\n  if (!existedModalElem) {\n    const modalElem = document.createElement('div')\n    const bodyElem = document.querySelector('body')\n    modalElem.id = 'modal'\n    bodyElem && bodyElem.append(modalElem)\n  }\n\n  const [isShown, setIsShown] = React.useState(defaultIsVisible || false)\n\n  const onClose = () => {\n    setIsShown(false)\n  }\n\n  React.useEffect(() => {\n    setIsShown(onIsVisible)\n  }, [onIsVisible])\n\n  const modalDOM = document.getElementById('modal') as HTMLElement\n  return isShown ? createPortal(children({ onClose }), modalDOM) : null\n}\n","import { HeadlessModal } from './components'\nimport { useState } from 'react'\n\nexport const useHeadlessModal = () => {\n  const [isOpen, setIsOpen] = useState(false)\n  const onModalOpen = () => {\n    return setIsOpen(true)\n  }\n  const onModalClose = () => {\n    return setIsOpen(false)\n  }\n\n  return {\n    isOpen,\n    onModalOpen,\n    onModalClose\n  }\n}\n\nexport default HeadlessModal\n"],"names":["HeadlessModal","defaultIsVisible","onIsVisible","children","existedModalElem","document","querySelector","modalElem","createElement","bodyElem","id","append","React","isShown","setIsShown","onClose","modalDOM","getElementById","createPortal","useHeadlessModal","useState","isOpen","setIsOpen","onModalOpen","onModalClose"],"mappings":";;;AAUO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB;MAC3BC,wBAAAA;MACAC,mBAAAA;MACAC,gBAAAA;AAEA,MAAMC,gBAAgB,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAzB;;AACA,MAAI,CAACF,gBAAL,EAAuB;AACrB,QAAMG,SAAS,GAAGF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAlB;AACA,QAAMC,QAAQ,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAjB;AACAC,IAAAA,SAAS,CAACG,EAAV,GAAe,OAAf;AACAD,IAAAA,QAAQ,IAAIA,QAAQ,CAACE,MAAT,CAAgBJ,SAAhB,CAAZ;AACD;;AAED,wBAA8BK,cAAA,CAAeX,gBAAgB,IAAI,KAAnC,CAA9B;AAAA,MAAOY,OAAP;AAAA,MAAgBC,UAAhB;;AAEA,MAAMC,OAAO,GAAG,SAAVA,OAAU;AACdD,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAFD;;AAIAF,EAAAA,eAAA,CAAgB;AACdE,IAAAA,UAAU,CAACZ,WAAD,CAAV;AACD,GAFD,EAEG,CAACA,WAAD,CAFH;AAIA,MAAMc,QAAQ,GAAGX,QAAQ,CAACY,cAAT,CAAwB,OAAxB,CAAjB;AACA,SAAOJ,OAAO,GAAGK,qBAAY,CAACf,QAAQ,CAAC;AAAEY,IAAAA,OAAO,EAAPA;AAAF,GAAD,CAAT,EAAwBC,QAAxB,CAAf,GAAmD,IAAjE;AACD,CAzBM;;ICPMG,gBAAgB,GAAG,SAAnBA,gBAAmB;AAC9B,kBAA4BC,cAAQ,CAAC,KAAD,CAApC;AAAA,MAAOC,MAAP;AAAA,MAAeC,SAAf;;AACA,MAAMC,WAAW,GAAG,SAAdA,WAAc;AAClB,WAAOD,SAAS,CAAC,IAAD,CAAhB;AACD,GAFD;;AAGA,MAAME,YAAY,GAAG,SAAfA,YAAe;AACnB,WAAOF,SAAS,CAAC,KAAD,CAAhB;AACD,GAFD;;AAIA,SAAO;AACLD,IAAAA,MAAM,EAANA,MADK;AAELE,IAAAA,WAAW,EAAXA,WAFK;AAGLC,IAAAA,YAAY,EAAZA;AAHK,GAAP;AAKD,CAdM;;;;;"}