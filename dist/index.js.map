{"version":3,"file":"index.js","sources":["../src/utils/createModalElement.ts","../src/components/index.tsx","../src/index.tsx"],"sourcesContent":["export const createModalElement = () => {\n  const existedModalElem = document.querySelector('#modal')\n  if (!existedModalElem) {\n    const modalElem = document.createElement('div')\n    const bodyElem = document.querySelector('body')\n    modalElem.id = 'modal'\n    bodyElem && bodyElem.append(modalElem)\n  }\n}\n","import * as React from 'react'\nimport { createPortal } from 'react-dom'\nimport { createModalElement } from '../utils/createModalElement'\n\ncreateModalElement()\n\nexport const HeadlessModal = ({\n  isOpen,\n  onModalClose,\n  backdropAlpha = 7,\n  children\n}: HeadlessModalProps) => {\n  const [isShown, setIsShown] = React.useState(isOpen || false)\n  // const [backdropAlpha, setBackdropAlpha] = React.useState(3)\n\n  const onClose = () => {\n    onModalClose()\n    setIsShown(false)\n  }\n  // const onBackdropAlpha = (value: 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 = 7) => {\n  //   setBackdropAlpha(value)\n  // }\n\n  React.useEffect(() => {\n    setIsShown(isOpen)\n  }, [isOpen])\n\n  const modalDOM = document.getElementById('modal') as HTMLElement\n  const Modal = (\n    <React.Fragment>\n      <div\n        style={{\n          position: 'fixed',\n          width: '100%',\n          height: '100%',\n          top: 0,\n          left: 0,\n          background: `rgba(0, 0, 0, ${backdropAlpha * 0.1})`\n        }}\n        onClick={onClose}\n      />\n      <div style={{ position: 'relative', zIndex: 1 }}>{children()}</div>\n    </React.Fragment>\n  )\n  return isShown ? createPortal(Modal, modalDOM) : null\n}\n","import { HeadlessModal } from './components'\nimport { useState } from 'react'\n\nexport const useHeadlessModal = () => {\n  const [isOpen, setIsOpen] = useState(false)\n  const onModalOpen = () => {\n    return setIsOpen(true)\n  }\n  const onModalClose = () => {\n    return setIsOpen(false)\n  }\n\n  return {\n    isOpen,\n    onModalOpen,\n    onModalClose\n  }\n}\n\nexport default HeadlessModal\n"],"names":["createModalElement","existedModalElem","document","querySelector","modalElem","createElement","bodyElem","id","append","HeadlessModal","isOpen","onModalClose","backdropAlpha","children","React","isShown","setIsShown","onClose","modalDOM","getElementById","Modal","style","position","width","height","top","left","background","onClick","zIndex","createPortal","useHeadlessModal","useState","setIsOpen","onModalOpen"],"mappings":";;;AAAO,IAAMA,kBAAkB,GAAG,SAArBA,kBAAqB;AAChC,MAAMC,gBAAgB,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAzB;;AACA,MAAI,CAACF,gBAAL,EAAuB;AACrB,QAAMG,SAAS,GAAGF,QAAQ,CAACG,aAAT,CAAuB,KAAvB,CAAlB;AACA,QAAMC,QAAQ,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAjB;AACAC,IAAAA,SAAS,CAACG,EAAV,GAAe,OAAf;AACAD,IAAAA,QAAQ,IAAIA,QAAQ,CAACE,MAAT,CAAgBJ,SAAhB,CAAZ;AACD;AACF,CARM;;ACIPJ,kBAAkB;AAElB,AAAO,IAAMS,aAAa,GAAG,SAAhBA,aAAgB;MAC3BC,cAAAA;MACAC,oBAAAA;gCACAC;MAAAA,gDAAgB;MAChBC,gBAAAA;;AAEA,wBAA8BC,cAAA,CAAeJ,MAAM,IAAI,KAAzB,CAA9B;AAAA,MAAOK,OAAP;AAAA,MAAgBC,UAAhB;;AAGA,MAAMC,OAAO,GAAG,SAAVA,OAAU;AACdN,IAAAA,YAAY;AACZK,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAHD;;AAQAF,EAAAA,eAAA,CAAgB;AACdE,IAAAA,UAAU,CAACN,MAAD,CAAV;AACD,GAFD,EAEG,CAACA,MAAD,CAFH;AAIA,MAAMQ,QAAQ,GAAGhB,QAAQ,CAACiB,cAAT,CAAwB,OAAxB,CAAjB;AACA,MAAMC,KAAK,GACTN,mBAAA,CAACA,cAAD,MAAA,EACEA,mBAAA,MAAA;AACEO,IAAAA,KAAK,EAAE;AACLC,MAAAA,QAAQ,EAAE,OADL;AAELC,MAAAA,KAAK,EAAE,MAFF;AAGLC,MAAAA,MAAM,EAAE,MAHH;AAILC,MAAAA,GAAG,EAAE,CAJA;AAKLC,MAAAA,IAAI,EAAE,CALD;AAMLC,MAAAA,UAAU,qBAAmBf,aAAa,GAAG,GAAnC;AANL;AAQPgB,IAAAA,OAAO,EAAEX;GATX,CADF,EAYEH,mBAAA,MAAA;AAAKO,IAAAA,KAAK,EAAE;AAAEC,MAAAA,QAAQ,EAAE,UAAZ;AAAwBO,MAAAA,MAAM,EAAE;AAAhC;GAAZ,EAAkDhB,QAAQ,EAA1D,CAZF,CADF;AAgBA,SAAOE,OAAO,GAAGe,qBAAY,CAACV,KAAD,EAAQF,QAAR,CAAf,GAAmC,IAAjD;AACD,CAvCM;;ICHMa,gBAAgB,GAAG,SAAnBA,gBAAmB;AAC9B,kBAA4BC,cAAQ,CAAC,KAAD,CAApC;AAAA,MAAOtB,MAAP;AAAA,MAAeuB,SAAf;;AACA,MAAMC,WAAW,GAAG,SAAdA,WAAc;AAClB,WAAOD,SAAS,CAAC,IAAD,CAAhB;AACD,GAFD;;AAGA,MAAMtB,YAAY,GAAG,SAAfA,YAAe;AACnB,WAAOsB,SAAS,CAAC,KAAD,CAAhB;AACD,GAFD;;AAIA,SAAO;AACLvB,IAAAA,MAAM,EAANA,MADK;AAELwB,IAAAA,WAAW,EAAXA,WAFK;AAGLvB,IAAAA,YAAY,EAAZA;AAHK,GAAP;AAKD,CAdM;;;;;"}